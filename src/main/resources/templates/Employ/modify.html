<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" />

    <link rel="stylesheet" href="/css/employ_modify.css" />
    <link rel="stylesheet" href="/css/menu-common1.css" />
    <link rel="stylesheet" href="/css/frame.css" />

    <script th:async src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script th:async src="/js/Employ.js"></script>
    <!--jquery에서 제공하는 최신 버전의 jQuery url-->



    <title>Title</title>
</head>

<body>

<!--네비 div-->
<div th:replace="layout/layout :: nav" />
<!-- Main -->
<section id="main">
    <div class="container">
        <div class="row">
            <div class="col-3">
                <div class="sidebar">
                    <div class="menu2">
                        <div id="bar">
                            <h2>채용</h2>
                            <ul id="menu_bar">
                                <li id="menu_con1">
                                    <h4>채용등록</h4>
                                    <ul id="sb_detail">
                                        <li><a th:href="@{/Employ/list}">채용정보</a></li>
                                        <li><a th:href="@{/Employ/register}">채용등록</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div> <!-- bar -->
                    </div> <!-- menu -->
                </div>
            </div>
            <div class="employ_register" id="employ_register1">
                <button onclick="abcd()"></button>
                <div class="content">
                    <input name="em_num" id="em_num" title="em_num" th:value="${dto.num}"/>
                    <input  name="em_id" id="em_id" title="em_id" th:value="${etp.getEtp_id()}" />
                    <div class="register_title_wrap">
                        <div class="register_title">
                            제목
                        </div>
                        <input type="text" name="em_title" id="em_title" class="register_title_input" maxlength="15" />
                    </div>

                    <div class="register_cont_wrap">
                        <div class="register_cont">
                            내용
                        </div>
                        <textarea name="em_content" id="em_content" class="register_cont_input" maxlength="499"></textarea>
                    </div>

                    <div class="register_ot_wrap">
                        <div class="register_ot">
                            직종
                        </div>
                        <div class="register_ot_val_wrap">
                            <select id="em_ot" name="register_ot_val" class="register_ot_val" >

                                <option>----- 직종 -----</option>
                                <option>경영·회계·사무 관련직</option>
                                <option>금융·보험 관련직</option>
                                <option>교육관련직</option>
                                <option>보건·의료 관련직</option>
                                <option>사회복지 관련직</option>
                                <option>문화·예술·디자인·방송 관련직</option>
                                <option>운전 및 운송 관련직</option>
                                <option>영업 및 판매 관련직</option>
                                <option>미용·숙박·여행·오락·스포츠 관련직</option>
                                <option>음식 서비스 관련직</option>
                                <option>건설 관련직</option>
                                <option>기계 관련직</option>
                                <option>전기·전자 관련직</option>
                                <option>정보통신 관련직</option>
                                <option>섬유 및 의복 관련직</option>
                                <option>농림어업 관련직</option>
                                <option>경비 및 청소 관련직</option>
                                <option>환경·인쇄·목재·가구·공예 및 생산단순직</option>
                                <option>군인, 경찰, 소방, 교도 관련직</option>
                            </select>
                        </div>
                    </div>
                    <div class="register_ep_wrap">
                        <div class="register_ep">
                            고용 형태
                        </div>
                        <div id="em_ep" class="register_ep_val">
                            <input type="radio" name="고용형태" id="ep1" value="정규직">정규직
                            <input type="radio" name="고용형태" id="ep2" value="계약직">계약직
                            <input type="radio" name="고용형태" id="ep3" value="아르바이트">아르바이트
                            <input type="radio" name="고용형태" id="ep4" value="인턴">인턴
                            <input type="radio" name="고용형태" id="ep5" value="파견직">파견직
                            <input type="radio" name="고용형태" id="ep6" value="병역특례">병역특례
                            <input type="radio" name="고용형태" id="ep7" value="해외취업">해외취업
                        </div>
                    </div>

                    <div class="register_date_wrap">
                        <div class="register_start_date">
                            시작일
                        </div>
                        <input type="datetime-local" name="em_start_date" id="em_start_date">
                        ~&nbsp;&nbsp;&nbsp;&nbsp;
                        <div class="register_end_date">
                            마감일
                        </div>

                        <input type="datetime-local" name="em_end_date" id="em_end_date">

                    </div>

                    <div class="base_button_wrap">
                        <button class="base_button" onclick="pageMov(1_2)">상세정보 입력으로 이동</button>
                    </div>
                </div>
            </div>



            <div class="employ_register" id="employ_register2">
                <div class="content">
                    <div class="register_TO_wrap">
                        <div class="register_TO">
                            모집인원
                        </div>
                        <div class="register_TO_input">
                            <input type="text" maxlength="4" id="em_people"/>
                            <p>명</p>
                            <div class="register_TO_error">숫자만 입력해주세요.</div>
                        </div>
                    </div>

                    <div class="register_career_wrap">
                        <div class="register_career">
                            경력
                        </div>
                        <div class="register_career_input">
                            <input type="radio" name="career" value="신입">신입
                            <input type="radio" name="career" value="경력">경력
                            <input type="radio" name="career" value="무관">무관
                        </div>
                    </div>

                    <div class="register_education_wrap">
                        <div class="register_education">
                            학력
                        </div>
                        <div class="register_education_input">
                            <input type="checkbox" id="education" name="education" value="학력무관" checked="checked"
                                   onclick="eduFunc()">무관
                            <select id="em_education" name="register_education_val" class="register_education_val"
                                    disabled="disabled" onchange="selectValChange(this.value)">
                                <option value="대학원졸업이상">대학원졸업이상</option>
                                <option value="대학원재학">대학원재학</option>
                                <option value="대학교졸업">대학교졸업</option>
                                <option value="대학교재학">대학교재학</option>
                                <option value="고등학교졸업">고등학교졸업</option>
                                <option value="고등학교재학">고등학교재학</option>
                                <option value="중학교졸업">중학교졸업</option>
                                <option value="중학교재학">중학교재학</option>
                                <option value="초등학교졸업">초등학교졸업</option>
                                <option value="초등학교재학">초등학교재학</option>
                            </select>
                        </div>
                    </div>

                    <div class="register_location_wrap">
                        <div class="register_location">
                            근무지역
                        </div>
                        <div class="register_location_input" id="em_area">
                            <select name="sido" id="em_sido"></select><select name="gugun" id="em_gugun"></select>
                        </div>
                    </div>

                    <div class="register_salary_wrap">
                        <div class="register_salary">
                            급여
                        </div>
                        <div class="register_salary_input">
                            <input type="text" id="em_salary">
                            <p>만원</p>
                            <div class="register_salary_error">숫자만 입력해주세요.</div>
                        </div>
                    </div>

                    <div class="register_apply_wrap">
                        <div class="register_apply">
                            지원방법
                        </div>
                        <div class="register_apply_input">
                            <input type="checkbox" name="지원방법" id="add1" checked value="온라인지원">온라인지원
                            <input type="checkbox" name="지원방법" id="add2" value="홈페이지접수">홈페이지접수
                            <input type="checkbox" name="지원방법" id="add3" value="방문">방문
                            <input type="checkbox" name="지원방법" id="add4" value="전화">전화
                            <input type="checkbox" name="지원방법" id="add5" value="FAX">FAX
                            <input type="checkbox" name="지원방법" id="add6" value="문자">문자
                        </div>
                    </div>

                    <div class="register_file_wrap">
                        <div class="register_file">
                            첨부파일
                        </div>
                        <div class="register_file_input">
                            <ul class="register_file_ul">
                                <li class="register_file_li">
                                    <input type="text" id="fileName1" placeholder="본문에 보여질 이미지파일을 올려주세요" readonly>
                                    <input id="em_file" type="file" onchange="fileChange(this.value,1)" multiple>
                                </li>
                            </ul>
                            <div class="register_file_btn">
                                <i class="fas fa-plus-square" onclick="Apply('add')"></i>
                                <i class="fas fa-minus-circle" onclick="Apply('sub')"></i>
                            </div>
                        </div>
                        <div class="uploadResult">
                            <ul>

                            </ul>
                        </div>
                    </div>


                    <div class="base_button_wrap">
                        <button class="base_button" onclick="pageMov(2_1)">기본정보 입력으로 이동</button>
                        <button class="boxed-btn3" id="emSave" name="emSave" type="submit">수정하기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<!--footer -->
<footer th:replace="layout/layout :: footer" />


</body>
<script src="/js/Employ.js"></script>
<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = function (e) {
                $('#em_img').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#em_file").change(function () {
        readURL(this);
    });

</script>
<script th:inline="javascript">
    let ep;
    $(document).ready(function() {
        $('#em_title').val([[${dto.title}]]);
        $('#em_content').val([[${dto.content}]]);
        $('#em_ot').val([[${dto.ot}]]);
        $("input[name='고용형태'][value=" + [[${dto.ep}]] + "]").prop("checked",true);
        $('#em_start_date').val([[${dto.start_date}]]);
        $('#em_end_date').val([[${dto.end_date}]]);
        $("input[name='career'][value=" + [[${dto.career}]] + "]").prop("checked",true);
        $('#em_career').val([[${dto.career}]]);

        alert([[${dto.title}]]);
        alert([[${dto.education}]]);

        if([[${dto.education}]]=="무관"){
            $('#education').prop("checked",true);
            alert([[${dto.education}]]);
        }
            else{
            $('#education').prop("checked",false);
            alert([[${dto.education}]]);
        }

        $('#em_education').val([[${dto.ot}]]);
        $('#em_salary').val([[${dto.salary}]]);

        // alert([[${dto.apply}]]);
        // $("input[name='지원방법'][value=" + [[${dto.apply}]] + "]").prop("checked",true);

    });
</script>
</html>